@import "tailwindcss";

/* ============================================
   VS Code-Inspired Theme System
   ============================================ */

/* Accent color presets (HSL hues for generating color scales) */
:root {
  --accent-hue: 207; /* Default: Blue */
  --accent-saturation: 100%;

  /* Accent color preset hues */
  --hue-blue: 207;
  --hue-purple: 271;
  --hue-green: 122;
  --hue-orange: 36;
  --hue-pink: 340;
  --hue-red: 4;
  --hue-teal: 174;
}

/* Dark theme (VS Code inspired) - DEFAULT */
:root {
  /* RGB channels for alpha compositing in glass mode */
  --surface-950-rgb: 14 14 14;
  --surface-900-rgb: 30 30 30;

  /* Background colors */
  --surface-950: #0e0e0e;
  --surface-900: #1e1e1e; /* Editor background */
  --surface-800: #252526; /* Sidebar background */
  --surface-700: #2d2d30; /* Input/card background */
  --surface-600: #3c3c3c; /* Borders, dividers */
  --surface-500: #4a4a4a; /* Muted elements */
  --surface-400: #808080; /* Placeholder text */
  --surface-300: #9d9d9d; /* Secondary text */
  --surface-200: #cccccc; /* Primary text */
  --surface-100: #e5e5e5; /* Bright text */
  --surface-50: #f5f5f5; /* White text */

  /* Accent/brand colors (generated from hue) */
  --accent-50: hsl(var(--accent-hue), var(--accent-saturation), 95%);
  --accent-100: hsl(var(--accent-hue), var(--accent-saturation), 90%);
  --accent-200: hsl(var(--accent-hue), var(--accent-saturation), 80%);
  --accent-300: hsl(var(--accent-hue), var(--accent-saturation), 70%);
  --accent-400: hsl(var(--accent-hue), var(--accent-saturation), 60%);
  --accent-500: hsl(var(--accent-hue), var(--accent-saturation), 50%);
  --accent-600: hsl(var(--accent-hue), var(--accent-saturation), 40%);
  --accent-700: hsl(var(--accent-hue), var(--accent-saturation), 30%);
  --accent-800: hsl(var(--accent-hue), var(--accent-saturation), 20%);
  --accent-900: hsl(var(--accent-hue), var(--accent-saturation), 10%);
}

/* Light theme overrides (slate-tinted) */
:root.light {
  --surface-950-rgb: 248 250 252;
  --surface-900-rgb: 241 245 249;

  /* Background colors - slate-tinted for light mode */
  --surface-950: #f8fafc; /* Page background */
  --surface-900: #f1f5f9; /* Editor background */
  --surface-800: #e8ecf2; /* Sidebar background */
  --surface-700: #dbe1ea; /* Input/card background */
  --surface-600: #bfc8d4; /* Borders, dividers */
  --surface-500: #8494a7; /* Muted elements */
  --surface-400: #64748b; /* Placeholder text */
  --surface-300: #475569; /* Secondary text */
  --surface-200: #1e293b; /* Primary text */
  --surface-100: #0f172a; /* Bright text */
  --surface-50: #020617; /* Black text */
}

@theme {
  /* Surface colors - reference CSS custom properties for theme switching */
  --color-surface-50: var(--surface-50);
  --color-surface-100: var(--surface-100);
  --color-surface-200: var(--surface-200);
  --color-surface-300: var(--surface-300);
  --color-surface-400: var(--surface-400);
  --color-surface-500: var(--surface-500);
  --color-surface-600: var(--surface-600);
  --color-surface-700: var(--surface-700);
  --color-surface-800: var(--surface-800);
  --color-surface-900: var(--surface-900);
  --color-surface-950: var(--surface-950);

  /* Brand/Accent colors - dynamic based on accent-hue */
  --color-brand-50: var(--accent-50);
  --color-brand-100: var(--accent-100);
  --color-brand-200: var(--accent-200);
  --color-brand-300: var(--accent-300);
  --color-brand-400: var(--accent-400);
  --color-brand-500: var(--accent-500);
  --color-brand-600: var(--accent-600);
  --color-brand-700: var(--accent-700);
  --color-brand-800: var(--accent-800);
  --color-brand-900: var(--accent-900);

  /* Accent color aliases */
  --color-accent-50: var(--accent-50);
  --color-accent-100: var(--accent-100);
  --color-accent-200: var(--accent-200);
  --color-accent-300: var(--accent-300);
  --color-accent-400: var(--accent-400);
  --color-accent-500: var(--accent-500);
  --color-accent-600: var(--accent-600);
  --color-accent-700: var(--accent-700);
  --color-accent-800: var(--accent-800);
  --color-accent-900: var(--accent-900);

  /* Fonts */
  --font-sans: "Inter", system-ui, sans-serif;
  --font-display: "Beaufort for LOL", "Inter", system-ui, sans-serif;

  /* Animations */
  --animate-fade-in: fade-in 0.2s ease-out;
  --animate-slide-up: slide-up 0.3s ease-out;
  --animate-slide-down: slide-down 0.3s ease-out;
  --animate-toast-slide-in: toast-slide-in 0.3s ease-out;
  --animate-toast-slide-out: toast-slide-out 0.2s ease-in;

  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes slide-up {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes slide-down {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes toast-slide-in {
    from {
      opacity: 0;
      transform: translateX(100%);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes toast-slide-out {
    from {
      opacity: 1;
      transform: translateX(0);
    }
    to {
      opacity: 0;
      transform: translateX(100%);
    }
  }
}

/* Base styles */
html {
  font-family: var(--font-sans);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  @apply bg-surface-900 text-surface-200;
  min-height: 100vh;
}

.root {
  isolation: isolate;
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  @apply bg-surface-900;
}

::-webkit-scrollbar-thumb {
  @apply rounded-full bg-surface-600;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-surface-500;
}

/* Focus styles */
:focus-visible {
  @apply outline-2 outline-offset-2 outline-brand-500;
}

/* Drag region for Tauri window */
[data-tauri-drag-region] {
  -webkit-app-region: drag;
}

[data-tauri-drag-region] button,
[data-tauri-drag-region] a,
[data-tauri-drag-region] input,
[data-tauri-drag-region] textarea {
  -webkit-app-region: no-drag;
}

/* Toast viewport positioning */
[data-toast-viewport] {
  position: fixed;
  bottom: 1rem;
  right: 1rem;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  z-index: 9999;
  max-width: 420px;
  width: 100%;
  pointer-events: none;
}

[data-toast-viewport] > * {
  pointer-events: auto;
}

/* ============================================
   Backdrop / Glassmorphism Mode
   ============================================ */

.backdrop-active body {
  background-color: transparent;
}

.backdrop-active .root {
  background-color: transparent;
}

.backdrop-active .root::before {
  content: "";
  position: fixed;
  inset: 0;
  z-index: -1;
  background-image: var(--backdrop-image);
  background-size: cover;
  background-position: center;
}

.backdrop-active .title-bar {
  background-color: rgb(var(--surface-950-rgb) / 0.95);
  backdrop-filter: blur(var(--backdrop-blur, 40px)) saturate(1.2);
}

.backdrop-active main {
  background-color: rgb(var(--surface-900-rgb) / 0.75);
  backdrop-filter: blur(var(--backdrop-blur, 40px)) saturate(1.2);
}

.backdrop-active main > * > [class*="border-b"] {
  background-color: rgb(var(--surface-950-rgb) / 0.4);
}

.backdrop-active main .settings-container {
  background-color: rgb(var(--surface-900-rgb) / 0.5);
  border-radius: 0.75rem;
  margin-top: 1.5rem;
  margin-bottom: 1.5rem;
}

.backdrop-active main * {
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.6);
}

.backdrop-active:not(.light) {
  --surface-400: #a0a0a0;
  --surface-500: #707070;
}

/* Light theme backdrop adjustments */
.backdrop-active.light .title-bar {
  background-color: rgb(var(--surface-950-rgb) / 0.92);
}

.backdrop-active.light main {
  background-color: rgb(var(--surface-900-rgb) / 0.88);
}

.backdrop-active.light main > * > [class*="border-b"] {
  background-color: rgb(var(--surface-950-rgb) / 0.5);
}

.backdrop-active.light main .settings-container {
  background-color: rgb(var(--surface-900-rgb) / 0.7);
}

.backdrop-active.light main * {
  text-shadow: 0 1px 2px rgba(255, 255, 255, 0.5);
}

.backdrop-active ::-webkit-scrollbar-track {
  background-color: transparent;
}
